---
import ThemeToggle from "./ThemeToggle.astro";
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import LanguagePicker from './LanguagePicker.astro';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const homePath = lang === 'en' ? '/en/' : '';
---
<header class="flex justify-center items-center sticky top-0 w-full py-4 bg-[#00091D]/80 backdrop-blur-2xl z-20">
  <nav class="w-full xl:w-[1120px] flex flex-col md:flex-row justify-center md:justify-between items-center px-2 md:px-10 text-white gap-y-2">

    <div class="flex flex-row items-center justify-center gap-x-2 md:gap-x-4 flex-wrap">
      <a class="hover:bg-white/10 rounded-full px-3  py-2 transition text-sm min-[400px] md:text-base" href={`${homePath}#top`}>{t('nav.inicio')}</a>
      <a class="hover:bg-white/10 rounded-full px-3  py-2 transition text-sm min-[400px] md:text-base" href={`${homePath}#sobre-mi`}>{t('nav.sobre_mi')}</a>
      <a class="hover:bg-white/10 rounded-full px-3  py-2 transition text-sm min-[400px] md:text-base" href={`${homePath}#proyectos`}>{t('nav.proyectos')}</a>
      <a class="hover:bg-white/10 rounded-full px-3  py-2 transition text-sm min-[400px] md:text-base" href={`${homePath}#contacto`}>{t('nav.contacto')}</a>
    </div>

    <div class="flex items-center">
      <LanguagePicker />
      <ThemeToggle />
    </div>
  </nav>
</header>
